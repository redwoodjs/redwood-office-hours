{
  "version": 3,
  "sources": ["../../../src/services/posts/posts.js"],
  "sourcesContent": ["import { cache, cacheFindMany } from 'src/lib/cache'\nimport { db } from 'src/lib/db'\n\nfunction delay(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nexport const posts = () => {\n  return cacheFindMany(`posts`, db.post)\n}\n\nexport const post = async ({ id }) => {\n  return cache(['post', id], async () => {\n    await delay(2000)\n    return db.post.findUnique({\n      where: { id },\n    })\n  })\n}\n\nexport const createPost = ({ input }) => {\n  return db.post.create({\n    data: input,\n  })\n}\n\nexport const updatePost = ({ id, input }) => {\n  return db.post.update({\n    data: input,\n    where: { id },\n  })\n}\n\nexport const deletePost = ({ id }) => {\n  return db.post.delete({\n    where: { id },\n  })\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mBAA6B;AAC7B,gBAAW;AAEX,SAASA,MAAMC,IAAI;AACjB,SAAO,IAAA,eAAAC,QAAaC,iBAAY,mBAAAC,SAAWD,SAASF,EAAE,CAAC;AACzD;AAEO,MAAMI,QAAQ,MAAM;AACzB,aAAOC,4BAAe,SAAQC,aAAGC,IAAI;AACvC;AAEO,MAAMA,OAAO,OAAO;EAAEC;AAAG,MAAM;AACpC,aAAOC,oBAAM,CAAC,QAAQD,EAAE,GAAG,YAAY;AACrC,UAAMT,MAAM,GAAI;AAChB,WAAOO,aAAGC,KAAKG,WAAW;MACxBC,OAAO;QAAEH;MAAG;IACd,CAAC;EACH,CAAC;AACH;AAEO,MAAMI,aAAa,CAAC;EAAEC;AAAM,MAAM;AACvC,SAAOP,aAAGC,KAAKO,OAAO;IACpBC,MAAMF;EACR,CAAC;AACH;AAEO,MAAMG,aAAa,CAAC;EAAER;EAAIK;AAAM,MAAM;AAC3C,SAAOP,aAAGC,KAAKU,OAAO;IACpBF,MAAMF;IACNF,OAAO;MAAEH;IAAG;EACd,CAAC;AACH;AAEO,MAAMU,aAAa,CAAC;EAAEV;AAAG,MAAM;AACpC,SAAOF,aAAGC,KAAKY,OAAO;IACpBR,OAAO;MAAEH;IAAG;EACd,CAAC;AACH;",
  "names": ["delay", "ms", "_Promise", "resolve", "_setTimeout", "posts", "cacheFindMany", "db", "post", "id", "cache", "findUnique", "where", "createPost", "input", "create", "data", "updatePost", "update", "deletePost", "delete"]
}
